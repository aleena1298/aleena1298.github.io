<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lazy Loading</title>
<link rel="stylesheet" href="lazyLoading.css">
</head>

<body>

<h1>Lazy Loading</h1>

<!-- Desktop Screens -->
<div class="heading">Desktop Screens</div>

<!-- First image that loads immediately -->
<img src="Home.png" alt="Home Desktop">

<!--these will load when we will scroll onto them-->
<img data-src="Login.png" class="lazyImg" alt="Login Desktop">
<img data-src="SignUp.png" class="lazyImg" alt="SignUp Desktop">
<img data-src="AllProducts.png" class="lazyImg" alt="Products Desktop">
<img data-src="Contact.png" class="lazyImg" alt="Contact Desktop">


<!--Mobile Screens-->
<!--these will load when we will scroll onto them-->
<div class="heading">Mobile Screens</div>
<img data-src="HomeM.png" class="lazyImg" alt="Home Mobile">
<img data-src="LoginM.png" class="lazyImg" alt="Login Mobile">
<img data-src="SignUpM.png" class="lazyImg" alt="SignUp Mobile">
<img data-src="AllProductsM.png" class="lazyImg" alt="Products Mobile">
<img data-src="ContactM.png" class="lazyImg" alt="Contact Mobile">



<script>
    function lazyLoad() {
        const images = document.querySelectorAll("img.lazyImg");
        
        for (let img of images) {
            //offsetTop gets image position from top of page
            //pageYOffset tells how much user has scrolled
            if (img.offsetTop < (window.innerHeight + window.pageYOffset)) {
                img.src = img.dataset.src;//loads the actual image
                img.classList.remove("lazyImg"); //removes a CSS class
            }
        }
    }

    document.addEventListener("scroll", lazyLoad);//runs function when scrolling
    window.addEventListener("resize", lazyLoad);//runs on window resize
    window.addEventListener("orientationChange", lazyLoad);//runs on device rotation

    //runs only once on page load
    lazyLoad();
</script>

</body>
</html>
